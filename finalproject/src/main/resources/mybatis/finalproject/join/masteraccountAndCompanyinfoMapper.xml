<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bit.fn.model.mapper.join.MasteraccountAndCompanyInfoMapper">
    <resultMap type="com.bit.fn.model.vo.MasterAccountVo" id="MasterAccountMap">
    	<id property="masterNum" column="masterNum"/>
    	<result property="id" column="id"/>
    	<result property="comCode" column="comCode"/>
    	<result property="signdate" column="signdate"/>
    	<result property="profile" column="profile"/>
    </resultMap>
    
    <resultMap type="com.bit.fn.model.vo.CompanyInfoVo" id="CompanyInfoMap">
    	<id property="comCode" column="comCode"/>
    	<result property="officeNum" column="officeNum"/>
    	<result property="comName" column="comName"/>
    	<result property="ceo" column="ceo"/>
    	<result property="manager" column="manager"/>
    	<result property="comPhone" column="comPhone"/>
    	<result property="contractDate" column="contractDate"/>
    	<result property="rentStartDate" column="rentStartDate"/>
    	<result property="rentFinishDate" column="rentFinishDate"/>
    	<result property="point" column="point"/>
    </resultMap>
    
    <resultMap type="com.bit.fn.model.vo.join.MasteraccountAndCompanyInfoVo" id="MasteraccountAndCompanyInfoMap">
    	<collection property="masteraccount" resultMap="MasterAccountMap"/>
    	<collection property="companyInfo" resultMap="CompanyInfoMap"/>
    </resultMap>
    
    <select id="masterOne" resultMap="MasteraccountAndCompanyInfoMap">
    	 select
    	 a.masterNum, a.id, a.comCode, a.signdate, a.profile, b.comName	
    	 from	
    	 (SELECT
    	 	*
    	 from
    	 	masteraccount 
    	 where id=#{id}
    	 ) a
    	 inner join
    	 	companyInfo b on a.comCode=b.comCode
    	 
    	 
   	</select>
   	
</mapper>

